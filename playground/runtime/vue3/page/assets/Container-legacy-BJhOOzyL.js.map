{"version":3,"file":"Container-legacy-BJhOOzyL.js","sources":["../../../../../../vue-components/container/src/Container.vue"],"sourcesContent":["<template>\n  <div v-if=\"display(config)\" :class=\"className\" :style=\"style\">\n    <slot>\n      <template v-for=\"(item, index) in config.items\">\n        <component\n          v-if=\"display(item)\"\n          :key=\"item.id\"\n          :is=\"`magic-ui-${toLine(item.type)}`\"\n          :data-tmagic-id=\"item.id\"\n          :data-tmagic-iterator-index=\"iteratorIndex\"\n          :data-tmagic-iterator-container-id=\"iteratorContainerId\"\n          :data-container-index=\"index\"\n          :class=\"item.className ? `${item.className} magic-ui-${toLine(item.type)}` : `magic-ui-${toLine(item.type)}`\"\n          :style=\"app?.transformStyle(item.style || {})\"\n          :config=\"{ ...item, [IS_DSL_NODE_KEY]: true }\"\n          :container-index=\"index\"\n          :iterator-index=\"iteratorIndex\"\n          :iterator-container-id=\"iteratorContainerId\"\n        ></component>\n      </template>\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, type PropType } from 'vue-demi';\n\nimport type { Id, MContainer } from '@tmagic/schema';\nimport { IS_DSL_NODE_KEY, toLine } from '@tmagic/utils';\nimport { useApp } from '@tmagic/vue-runtime-help';\n\ninterface ContainerSchema extends Omit<MContainer, 'id'> {\n  id?: Id;\n  type?: 'container';\n}\n\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<ContainerSchema>,\n      required: true,\n    },\n    iteratorIndex: Array as PropType<number[]>,\n    iteratorContainerId: Array as PropType<Id[]>,\n    model: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  setup(props) {\n    const { display, app } = useApp({\n      config: props.config,\n      iteratorContainerId: props.iteratorContainerId,\n      iteratorIndex: props.iteratorIndex,\n      methods: {},\n    });\n\n    const className = computed(() => {\n      const list = ['magic-ui-container'];\n      if (props.config.layout) {\n        list.push(`magic-layout-${props.config.layout}`);\n      }\n      if (props.config.className) {\n        list.push(props.config.className);\n      }\n      return list.join(' ');\n    });\n\n    const style = computed(() => {\n      if (props.config[IS_DSL_NODE_KEY]) {\n        return {};\n      }\n      return app?.transformStyle(props.config.style || {});\n    });\n\n    return {\n      app,\n      className,\n      style,\n      IS_DSL_NODE_KEY,\n\n      display,\n      toLine,\n    };\n  },\n});\n</script>\n"],"names":["_sfc_main","VueDemi","defineComponent","props","config","type","Object","required","iteratorIndex","Array","iteratorContainerId","model","default","setup","display","app","useApp","methods","className","list","layout","push","join","style","IS_DSL_NODE_KEY","transformStyle","toLine","_ctx","Vue","openBlock","createElementBlock","key","class","normalizeClass","normalizeStyle","renderSlot","$slots","Fragment","renderList","items","item","index","createBlock","resolveDynamicComponent","id","createCommentVNode"],"mappings":"8MAoCe,MAAAA,EAAAC,QAAgBC,gBAAA,CAAAC,MAAA,CACtBC,OAAA,CACGC,KAAAC,OACAC,UAAA,GAERC,cAAAC,MACeC,oBAAAD,MACME,MAAA,CACdN,KAAAC,OACCM,QAAAA,KAAA,CAAA,KAGVC,KAAAA,CAAAV,GAGE,MAAAW,QAAAA,EAAAC,IAAAA,GAAAC,EAAA,CAAgCZ,OAAAD,EAAAC,OAChBM,oBAAAP,EAAAO,oBACaF,cAAAL,EAAAK,cACNS,QAAA,CAAA,IAIvBC,EAAkBjB,uBAChB,MAAAkB,EAAA,CAAA,sBAOA,OANAhB,EAAAC,OAAAgB,QACED,EAAAE,KAAA,gBAAAlB,EAAAC,OAAAgB,UAEFjB,EAAAC,OAAAc,WACEC,EAAAE,KAAAlB,EAAAC,OAAAc,WAEFC,EAAAG,KAAA,IAAA,IAGFC,EAActB,sBACZE,EAAAC,OAAAoB,GACE,GAEFT,GAAAU,eAAAtB,EAAAC,OAAAmB,OAAA,CAAA,KAGF,MAAA,CAAOR,MACLG,YACAK,QACAC,kBACAV,UAEAY,SAEF,qDApFJ,OAAAC,EAAAb,QAAAa,EAAAvB,SAAAwB,IAAAC,YAAAD,IAAAE,mBAAA,MAAA,CAC+CC,IAAA,EAAQC,MAAAJ,IAAAK,eAAAN,EAAAT,iBAmB5CU,IAAAM,eAAAP,EAAAJ,QAAA,CApBXK,IAAAO,WAAAR,EAAAS,OAAA,UAAA,CAAA,GAAA,IAAA,EAAAR,eAKwB,GAAAA,IAAAE,mBAAIF,IAAAS,cAAAT,IAAAU,WAAAX,EAAAvB,OAAAmC,OAAA,CAAAC,EAAAC,qBADpBb,IAJRE,mBAAAF,IAAAS,SAAA,KAAA,CAAAV,EAAAb,QAAA0B,IAMuBZ,IAAAC,YAEWD,IAAAc,YAAAd,IAAAe,wBAAA,YAAAhB,EAAAD,OAAAc,EAAAnC,SAAA,CAAA0B,IAAAS,EAAAI,GACvB,iBAAAJ,EAAAI,GACA,6BAAAjB,EAAAnB,cAC2B,oCAAAmB,EAAAjB,oBACN,uBAAA+B,EACd1B,MACDa,6GAA6BL,6DACbnB,OAAA,IAAAoC,EAAA,CAAAb,EAAAH,kBAAA,GACO,kBAAAiB,EAC7B,iBAAAd,EAAAnB,cAjBX,wBAAAmB,EAAAjB,qBAAA,KAAA,EAAA,CAAA,iBAAA,6BAAA,oCAAA,uBAAA,QAAA,QAAA,SAAA,kBAAA,iBAAA,2BAAAkB,IAAAiB,mBAAA,IAAA,qBAAA,IAAAjB,IAAAiB,mBAAA,IAAA"}